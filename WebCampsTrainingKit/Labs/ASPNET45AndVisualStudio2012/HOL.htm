
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Web Camps Training Kit - Home</title>
    <link rel="Stylesheet" type="text/css" media="all" href="styles/master.css" />
</head>
<body>
    <div id="outerWrapper">
        <div id="wrapper" class="landingPage getStartedPage">
            <div id="whiteBkgdStrip">
            </div>
            <div class="header">
                <div class="heading">
					<div class="mainHomepageTitle"></div>
					<div class="logo-image"></div>
					<div class="header-landscape landscape-image"></div>
				<!--	<div class="clear"></div>-->
				</div>
				<div class="nav-menu-header">
					<div class="AspNet-Menu-Horizontal" id="ctl00_TopNavMenu">
						<ul class="AspNet-Menu">
							<li class="AspNet-Menu-Leaf AspNet-Menu-Selected">
								<a id="leftMenu" class="AspNet-Menu-Link AspNet-Menu-Selected" href="#">Content</a>
							</li>
							<li class="AspNet-Menu-Leaf">
								<a id="rightMenu" class="AspNet-Menu-Link" href="Source">Setup</a>
							</li>
						</ul>
					</div>
				</div>
            </div>		
            <div class="contentWrapper">
			<a name="top"></a>


<div class="genericInnerWrapper">
		<div class="content">
			<?xml version="1.0" encoding="iso-8859-1"?><span><p><a name="HOLTop"></a></p>

<h1 id="Whats_New_in_ASPNET_and_Web_Development_in_Visual_Studio_2012">What's New in ASP.NET and Web Development in Visual Studio 2012</h1>

<hr />

<p><a name="Overview"></a></p>

<h2 id="Overview">Overview</h2>

<p>The new version of Visual Studio introduces a number of enhancements focused on improving the experience and performance when working with Web technologies. Visual Studio Editors for CSS, JavaScript and HTML have been completely revamped to include many of the most in-demand code aids, such as IntelliSense and automatic indentation. Regarding performance, bundling and minification are now integrated as built-in features to easily reduce page load time.</p>

<p>Visual Studio enables you to work with the latest website technologies. You can use cross-browser CSS3 Snippets to make sure your site works regardless of the client platform while also taking advantage of the new HTML5 elements and features.</p>

<p>Writing and profiling JavaScript code should be easier with this Visual Studio version. IntelliSense lists, integrated XML documentation and navigation features are now available for JavaScript code. You now have the JavaScript catalog at your fingertips. Additionally, you can check ECMAScript5 compliance with your scripts and detect syntax errors at an early stage.</p>

<p>Last but not least, this Visual Studio version implements built-in bundling and minification. Your script files and style sheets will be packed and compressed so that the site performs faster.</p>

<p>This lab walks you through the enhancements and new features previously described by applying minor changes to a sample Web application provided in the Source folder.</p>

<p><a name="Objectives"></a></p>

<h3 id="Objectives">Objectives</h3>

<p>In this hands on lab, you will learn how to:</p>

<ul>
<li><p>Use the new features and improvements in the CSS editor</p></li>
<li><p>Use the new features and improvements in the HTML editor</p></li>
<li><p>Use the new features and improvements in the JavaScript editor</p></li>
<li><p>Configure and use bundling and minification</p></li>
</ul>

<p><a name="Prerequisites"></a></p>

<h3 id="Prerequisites">Prerequisites</h3>

<ul>
<li><p><a href="http://www.microsoft.com/visualstudio/eng/products/visual-studio-express-for-web">Microsoft Visual Studio Express 2012 for Web</a> or superior (read <a href="#AppendixA">Appendix A</a> for instructions on how to install it).</p></li>
<li><p><a href="http://support.microsoft.com/kb/968930/">Windows PowerShell</a> (for setup scripts - already installed on Windows 8 and Windows Server 2008 R2)</p></li>
<li><p><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">Internet Explorer 10</a> - or an HTML5 compliant browser</p></li>
</ul>

<p><a name="Exercises"></a></p>

<h2 id="Exercises">Exercises</h2>

<p>This hands on lab includes the following exercises:</p>

<ol>
<li><p><a href="#Exercise1">Exercise 1: What's New in the CSS Editor</a></p></li>
<li><p><a href="#Exercise2">Exercise 2: What's New in the HTML Editor</a></p></li>
<li><p><a href="#Exercise3">Exercise 3: What's New in the JavaScript Editor</a></p></li>
<li><p><a href="#Exercise4">Exercise 4: Bundling and Minification</a></p></li>
</ol>

<p>Estimated time to complete this lab: <strong>60 minutes</strong>.</p>

<p><a name="Exercise1"></a></p>

<h3 id="Exercise_1_Whats_New_in_the_CSS_Editor">Exercise 1: What's New in the CSS Editor</h3>

<p>Web developers should be familiar with many of the difficulties related to CSS editing. One of the biggest issues of CSS styling is cross-browser compatibility. It often happens that, after applying styles to your site, you notice that it looks different if you open it in another browser or device. Therefore, you may spend a considerable time on fixing those visual issues to realize that, when you finally make it work in one browser, it is broken in the others.</p>

<p>Visual Studio now includes features that help developers access, work and organize CSS style sheets effectively. Throughout this exercise, you will meet the new features for an effective organization and edition, as well as the CSS3 Code Snippets for cross-browser compatibility.</p>

<p><a name="Ex1Task1"></a></p>

<h4 id="Task_1_-_New_Editor_Features">Task 1 - New Editor Features</h4>

<p>In this task, you will discover the new features of the CSS Editor. This new editor will help you increase your productivity by taking advantage of the new smart indentation, the improved code comments and the enhanced IntelliSense list.</p>

<ol>
<li><p>Start <strong>Visual Studio</strong> and open the <strong>WhatsNewASPNET.sln</strong> solution located in the <strong>Source\WhatsNewASPNET</strong> folder of this lab.</p></li>
<li><p>In Solution Explorer, open the <strong>Site.css</strong> file located under the <strong>Styles</strong> folder. Make sure the <strong>Text Editor</strong> tools are visible on the toolbar. To do that, select the <strong>View</strong> | <strong>Toolbars</strong> menu option, and check the <strong>Text Editor</strong> options. You will notice that, since this new version, the <strong>Comment</strong> button (<img src="images/comment-button.png?raw=true" alt="comment-button" />
) and the <strong>Uncomment</strong> button (<img src="images/uncomment-button.png?raw=true" alt="uncomment-button" />
) are also enabled for the CSS editor.</p>

<p><img src="./images/Enabling-Editor-and-CSS-Tools.png?raw=true" alt="Enabling Editor and CSS Tools" title="Enabling Editor and CSS Tools" />
</p>

<p><em>Enabling Editor and CSS Tools</em></p></li>
<li><p>Scroll the code and select any CSS class definition. Click the <strong>Comment</strong> (<img src="images/comment-button.png?raw=true" alt="comment-button" />
) button to comment the selected lines. Then, click the <strong>Uncomment</strong> (<img src="images/uncomment-button.png?raw=true" alt="uncomment-button" />
) button to undo the changes.</p></li>
<li><p>Click the <strong>Collapse</strong> (<img src="images/collapse.png?raw=true" alt="collapse" />
) and <strong>Expand</strong> (<img src="images/expand.png?raw=true" alt="expand" />
) buttons located on the left margin of the text. Notice that you can now hide the styles you don't use to have a cleaner view.</p>

<p><img src="./images/Collapsing-CSS-classes.png?raw=true" alt="Collapsing CSS classes" title="Collapsing CSS classes" />
</p>

<p><em>Collapsing CSS classes</em></p></li>
<li><p>Make sure that the smart indentation feature is enabled. Select the <strong>Tools</strong> | <strong>Options</strong> menu option, and then select the <strong>Text Editor</strong> | <strong>CSS</strong> | <strong>Formatting</strong> page in the left pane of the screen. Check the <strong>Hierarchical indentation</strong> option.</p>

<p><img src="./images/Enabling-hierarchical-indentation.png?raw=true" alt="Enabling hierarchical indentation" title="Enabling hierarchical indentation" />
</p>

<p><em>Enabling hierarchical indentation</em></p></li>
<li><p>Locate the main class definition (.main) and append a style to the div elements. You will notice that the code aligns automatically, helping users to find the parent classes at a glance.</p>

<!-- mark:7-10    -->

<span class="codelanguage">CSS</span><pre><code class="CSS">.<span style="color:#800000">main</span>
{
  <span style="color:#FF0000">padding</span>: <span style="color:#0000FF">0px 12px</span>;
  <span style="color:#FF0000">margin</span>: <span style="color:#0000FF">12px 8px 8px 8px</span>;
  <span style="color:#FF0000">min-height</span>: <span style="color:#0000FF">420px</span>;
}
<strong class="markLine">  .<span style="color:#800000">main</span> <span style="color:#800000">div</span></strong>
<strong class="markLine">  {</strong>
<strong class="markLine">    <span style="color:#FF0000">border</span>: <span style="color:#0000FF">0px</span>;</strong>
<strong class="markLine">  }</strong>
</code></pre>

<p><img src="./images/Hierarchical-alignment-in-CSS-.png?raw=true" alt="Hierarchical alignment in CSS " title="Hierarchical alignment in CSS " />
</p>

<p><em>Hierarchical alignment in CSS</em></p></li>
<li><p>Inside <strong>.main div</strong> class, locate the cursor at the end of <strong>border: 0px;</strong> and press <strong>Enter</strong> to display the IntelliSense list. Start typing <strong>top</strong> and notice how the list is filtered as you type. The list will display the elements that contain <strong>top</strong> at any part of the word (In prior versions of Visual Studio, the list is filtered by the items that <em>begin</em> with the term).</p>

<p><img src="./images/IntelliSense-enhancements-in-CSS.png?raw=true" alt="IntelliSense enhancements in CSS" title="IntelliSense enhancements in CSS" />
</p>

<p><em>IntelliSense enhancements in CSS</em></p></li>
</ol>

<p><a name="Ex1Task2"></a> </p>

<h4 id="Task_2_-_The_Color_Picker">Task 2 - The Color Picker</h4>

<p>In this task, you will discover the new CSS Color Picker integrated into Visual Studio IntelliSense.</p>

<ol>
<li><p>In <strong>Site.css,</strong> locate the header class definition (.header) and place the cursor next to <strong>background-color</strong> attribute, between the &quot;:&quot; and &quot;#&quot; characters on that line of code<strong>.</strong></p>

<p><img src="./images/Locating-the-cursor.png?raw=true" alt="Locating the cursor" title="Locating the cursor" />
</p>

<p><em>Locating the cursor</em></p></li>
<li><p>Delete the <strong>colon</strong> (:) and write it again to display the color picker. Notice that the first colors you will see are the most frequent colors of your site. If you click the white color, its HTML color code (#fff) will replace the current color code in the stylesheet.</p>

<p><img src="./images/Color-picker.png?raw=true" alt="Color picker" title="Color picker" />
</p>

<p><em>Color picker</em></p></li>
<li><p>Press the <strong>Expand</strong> (<img src="images/com.png?raw=true" alt="com" />
) button on the color picker to display the color gradient, and then drag the gradient cursor to select a different color. After that, click the <strong>Eyedropper</strong> button and select any color from the screen. Notice that background color value changes dynamically while you move the cursor.</p>

<p><img src="./images/Color-picker-gradient.png?raw=true" alt="Color picker gradient" title="Color picker gradient" />
</p>

<p><em>Color picker gradient</em></p></li>
<li><p>In the <strong>Opacity</strong> slider, move the selector to the center of the bar to reduce the opacity. Notice that background-color value now changes its scale to RGBA.</p>

<p><img src="./images/Color-picker-Opacity.png?raw=true" alt="Color picker Opacity" title="Color picker Opacity" />
</p>

<p><em>Color picker Opacity</em></p>
<blockquote>
<p><strong>Note:</strong> The RGBA (Red, Green, Blue, Alpha) color definition in CSS3 enables you to define the color opacity value for a single item.  Unlike <strong>opacity -</strong> a similar CSS attribute <strong>-</strong> RGBA colors are also compatible with the latest browsers. </p>
</blockquote></li>
</ol>

<p><a name="Ex1Task3"></a></p>

<h4 id="Task_3_-_CSS_Compatible_Code_Snippets">Task 3 - CSS Compatible Code Snippets</h4>

<p>In this task, you will learn how to use cross-browser compatible CSS3 snippets in order to implement some features in your website.</p>

<ol>
<li><p>In the <strong>Site.css</strong> file, locate the <strong>header</strong> CSS class definition (.header) and place the cursor below the <strong>/*border radius*/</strong> placeholder to add a new snippet. Press <strong>Enter</strong> to display the IntelliSense list and type <strong>radius</strong> to filter the list. Select the <strong>border-radius</strong> option from the list with a double click, and then press the <strong>TAB</strong> key to insert the snippet. Then, type a radius size in pixels and press <strong>Enter</strong>. For instance, type <strong>15px</strong>.</p>

<p>The CSS3 attributes added by the snippet will render rounded borders in most HTML5 compliance browsers, including Mozilla and WebKit-based browsers.</p>

<p><img src="./images/Using-a-border-radius-snippet.png?raw=true" alt="Using a border-radius snippet" title="Using a border-radius snippet" />
</p>

<p><em>Using a border-radius snippet</em></p></li>
<li><p>Apply the same <strong>border</strong> snippets in the page style (.page).</p>

<!-- mark:8-10    -->

<span class="codelanguage">CSS</span><pre><code class="CSS">.<span style="color:#800000">page</span>
{
    <span style="color:#FF0000">width</span>: <span style="color:#0000FF">960px</span>;
    <span style="color:#FF0000">background-color</span>: <span style="color:#0000FF">#fff</span>;
    <span style="color:#FF0000">margin</span>: <span style="color:#0000FF">20px auto 0px auto</span>;
    <span style="color:#FF0000">border</span>: <span style="color:#0000FF">1px solid #496077</span>;
    <span style="color:#008000">/*border radius*/</span>
<strong class="markLine">    <span style="color:#FF0000">-moz-border-radius</span>: <span style="color:#0000FF">15px</span>;</strong>
<strong class="markLine">    <span style="color:#FF0000">-webkit-border-radius</span>: <span style="color:#0000FF">15px</span>;</strong>
<strong class="markLine">    <span style="color:#FF0000">border-radius</span>: <span style="color:#0000FF">15px</span>;</strong>
}
</code></pre></li>
<li><p>Press <strong>F5</strong> to run the solution. Notice that each page now has rounded borders.</p>

<p><img src="./images/Rounded-corners.png?raw=true" alt="Rounded corners" title="Rounded corners" />
</p>

<p><em>Rounded corners</em></p></li>
<li><p>Close the browser and return to Visual Studio.</p></li>
<li><p>Open the <strong>Custom.css</strong> file located under the <strong>Styles</strong> folder and place the cursor inside <strong>div.images ul li img</strong> class definition.</p></li>
<li><p>Press enter to display the IntelliSense list, type <strong>box-shadow</strong> and press the <strong>TAB</strong> key twice to insert the default shadow code snippet inside the class definition. Set the shadow values to <strong>10px 10px 5px #888</strong>. Then, type <strong>border-radius</strong> and insert the code snippet. Type <strong>15px</strong> to set radius size and press <strong>ENTER</strong>.</p>

<p><img src="./images/Rounded-corners-with-shadow.png?raw=true" alt="Rounded corners with shadow" title="Rounded corners with shadow" />
</p>

<p><em>Rounded corners with shadow</em></p>
<blockquote>
<p><strong>Note:</strong> At this moment, the shadow attribute is inserted with the corresponding prefix (moz, webkit, o) to support Mozilla and Webkit (Chrome, Safari, Konkeror) browsers.</p>
</blockquote></li>
<li><p>Create a new class <strong>div.images ul li img:hover</strong> below the <strong>div.images ul li img</strong> class definition and place the cursor inside the brackets<strong>.</strong></p>

<!-- mark:6-9    -->

<span class="codelanguage">CSS</span><pre><code class="CSS"><span style="color:#800000">div</span>.<span style="color:#800000">images</span> <span style="color:#800000">ul</span> <span style="color:#800000">li</span> <span style="color:#800000">img</span>
{
  ...
}

<strong class="markLine"><span style="color:#800000">div</span>.<span style="color:#800000">images</span> <span style="color:#800000">ul</span> <span style="color:#800000">li</span> <span style="color:#800000">img</span>:<span style="color:#800000">hover</span></strong>
<strong class="markLine">{</strong>
<strong class="markLine"></strong>
<strong class="markLine">}</strong>
</code></pre></li>
<li><p>Type <strong>transform</strong> and press the <strong>TAB</strong> key twice in order to insert the transform snippet. Then, enter <strong>rotate(-15deg)</strong> to change the rotation angle value when images are hovered.</p>

<!-- mark:11-15    -->

<span class="codelanguage">CSS</span><pre><code class="CSS"><span style="color:#800000">div</span>.<span style="color:#800000">images</span> <span style="color:#800000">ul</span> <span style="color:#800000">li</span> <span style="color:#800000">img</span>
{
  <span style="color:#FF0000">padding-top</span>: <span style="color:#0000FF">50px</span>;
  <span style="color:#FF0000">padding-right</span>: <span style="color:#0000FF">15px</span>;
  <span style="color:#FF0000">width</span>: <span style="color:#0000FF">150px</span>;
  ...
}

<span style="color:#800000">div</span>.<span style="color:#800000">images</span> <span style="color:#800000">ul</span> <span style="color:#800000">li</span> <span style="color:#800000">img</span>:<span style="color:#800000">hover</span>
{
<strong class="markLine">  <span style="color:#FF0000">-moz-transform</span>: <span style="color:#0000FF">rotate(-15deg)</span>;</strong>
<strong class="markLine">  <span style="color:#FF0000">-ms-transform</span>: <span style="color:#0000FF">rotate(-15deg)</span>;</strong>
<strong class="markLine">  <span style="color:#FF0000">-o-transform</span>: <span style="color:#0000FF">rotate(-15deg)</span>;</strong>
<strong class="markLine">  <span style="color:#FF0000">-webkit-transform</span>: <span style="color:#0000FF">rotate(-15deg)</span>;</strong>
<strong class="markLine">  <span style="color:#FF0000">transform</span>: <span style="color:#0000FF">rotate(-15deg)</span>;</strong>
}
</code></pre></li>
<li><p>Press <strong>F5</strong> to run the solution and browse to the CSS3 page. Notice that the images have rounded corners and box shadows. Hover the mouse over the images and watch them rotate.</p>

<p><img src="./images/Transform-snippet-rotating-an-image.png?raw=true" alt="Transform snippet rotating an image" title="Transform snippet rotating an image" />
</p>

<p><em>Transform snippet rotating an image</em></p>
<blockquote>
<p><strong>Note:</strong> If you are using Internet Explorer 10 and cannot see the shadows, make sure the document mode is set to IE10 standards. Press <strong>F12</strong> to open Internet Explorer developer tools and click <strong>Document Mode</strong> to change to IE10 standards.</p>
</blockquote>
<p><img src="images/about-us.png?raw=true" alt="about-us" />
</p></li>
</ol>

<p><a name="Exercise2"></a></p>

<h3 id="Exercise_2_Whats_New_in_the_HTML_Editor">Exercise 2: What's New in the HTML Editor</h3>

<p>Visual Studio has an improved HTML editor. Some of the enhancements included in this version are smart indentation in HTML documents, HTML5 snippets, HTML start and end tag matching, and HTML validation. Throughout this exercise, you will see how these changes improve your fluency when working in the website markup.</p>

<p>Like the CSS editor, the HTML editor was also improved. Most of these improvements are small ones that make the Web developer's life easier. Things like more code snippets for HTML5, smart indentation, matching start and end tags when editing and validation targeting the HTML document DOCTYPE are some of these improvements.</p>

<p><a name="Ex2Task1"></a></p>

<h4 id="Task_1_-_Improved_DOCTYPE_Validation">Task 1 - Improved DOCTYPE Validation</h4>

<p>The HTML editor now has the ability to check the DOCTYPE of your page, even though the definition might be in the master page. Depending on the DOCTYPE of your page, the HTML editor will validate with the correct set of rules and will filter the IntelliSense list considering the DOCTYPE elements.</p>

<p>In this task, you will change the DOCTYPE of a page to see how the HTML editor behavior changes accordingly.</p>

<ol>
<li><p>If not already opened, start <strong>Visual Studio</strong> and open the <strong>WhatsNewASPNET.sln</strong> solution located in the <strong>Source\WhatsNewASPNET</strong> folder of this lab.</p></li>
<li><p>Open the <strong>Site.Master</strong> page.</p></li>
<li><p>Notice the Target Schema for Validation Toolbar. The way the HTML editor behaves (Validation, IntelliSense, etc.) will properly change to fit the Doctype selected.</p>

<p><img src="./images/Use-Doctype-in-HTML-Source-Editing-toolbar.png?raw=true" alt="Use Doctype in HTML Source Editing toolbar" title="Use Doctype in HTML Source Editing toolbar" />
</p>

<p><em>Use Doctype in HTML Source Editing toolbar</em></p></li>
<li><p>Change the Target Schema to HTML 4.01.</p>

<p><img src="./images/Changing-Doctype-in-HTML-Source-Editing-toolbar.png?raw=true" alt="Changing Doctype in HTML Source Editing toolbar" title="Changing Doctype in HTML Source Editing toolbar" />
</p>

<p><em>Changing Doctype in HTML Source Editing toolbar</em></p></li>
<li><p>Place the cursor under the <strong>body</strong> element, and start typing the name of an HTML5 element (for example, <strong>video</strong>). Notice that the element is not available in the IntelliSense list.</p>

<p><img src="./images/HTML5-elements-not-listed.png?raw=true" alt="HTML5 elements not listed" title="HTML5 elements not listed" />
</p>

<p><em>HTML5 elements not listed</em></p></li>
<li><p>Undo the changes to the Target Schema for Validation Toolbar, picking DOCTYPE: XHTML5 from the dropdown list.</p>

<p><img src="./images/Use-Doctype-in-HTML-Source-Editing-toolbar.png?raw=true" alt="Use Doctype in HTML Source Editing toolbar" title="Use Doctype in HTML Source Editing toolbar" />
</p>

<p><em>Reset Doctype in HTML Source Editing toolbar</em></p></li>
<li><p>Place the cursor under the <strong>body</strong> element and start typing an HTML5 element again (For example, like <strong>video</strong>). Notice that the HTML5 elements are now available in the IntelliSense list.</p>

<p><img src="./images/HTML5-elements-being-listed.png?raw=true" alt="HTML5 elements being listed" title="HTML5 elements being listed" />
</p>

<p><em>HTML5 elements being listed</em></p></li>
</ol>

<p><a name="Ex2Task2"></a></p>

<h4 id="Task_2_-_StartEnd_Tags_Automatic_Update">Task 2 - Start/End Tags Automatic Update</h4>

<p>Visual Studio now updates the HTML opening or closing tags of the element that you are editing to match each other. This new feature will improve your productivity when editing HTML tags.</p>

<ol>
<li><p>On the <strong>Default.aspx</strong> page, add an <strong>H3</strong> element with a title (for example, Visual Studio 2012 Rocks!).</p>

<!-- mark:4    -->

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span> <span style="color:#FF0000">ID</span>=<span style="color:#0000FF">&quot;BodyContent&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span> <span style="color:#FF0000">ContentPlaceHolderID</span>=<span style="color:#0000FF">&quot;MainContent&quot;</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">br</span> <span style="color:#0000FF">/&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Image</span> <span style="color:#FF0000">ImageUrl</span>=<span style="color:#0000FF">&quot;~/images/Web11.JPG&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span> <span style="color:#0000FF">/&gt;</span>
<strong class="markLine">  <span style="color:#0000FF">&lt;</span><span style="color:#800000">h3</span><span style="color:#0000FF">&gt;</span>Visual Studio 2012 Rocks!!<span style="color:#0000FF">&lt;/</span><span style="color:#800000">h3</span><span style="color:#0000FF">&gt;</span></strong>
<span style="color:#0000FF">&lt;/</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span><span style="color:#0000FF">&gt;</span>
</code></pre></li>
<li><p>Change the <strong>H3</strong> tag and type <strong>H2</strong> or <strong>H1.</strong></p>

<p>Notice that the end tag automatically updates. You can also modify the end tag to see that the start tag updates accordingly too.</p>

<p><img src="./images/Automatic-update-of-the-end-tag.png?raw=true" alt="Automatic update of the end tag" title="Automatic update of the end tag" />
</p>

<p><em>Automatic update of the end tag</em></p></li>
</ol>

<p><a name="Ex2Task3"></a></p>

<h4 id="Task_3_-_New_HTML5_Code_Snippets">Task 3 - New HTML5 Code Snippets</h4>

<p>Visual Studio now includes several HTML5 code snippets. In this task, you will use some of these snippets.</p>

<ol>
<li><p>Add a new folder named <strong>audio</strong> to the root of the web site folder. Open Windows Explorer and copy any audio file into the <strong>audio</strong> folder of the <strong>WhatsNewASPNET.sln</strong> solution.</p></li>
<li><p>In the <strong>Default.aspx</strong> page, locate the cursor under the Web11 Rocks!! Header. Type <strong>audio</strong> and press the TAB key.</p>

<p>The new HTML editor includes code snippets for HTML5 content. Remember to use the proper DOCTYPE definition to enable the HTML5 snippets.</p>

<p><img src="./images/Inserting-HTML5-Code-Snippets.png?raw=true" alt="Inserting HTML5 Code Snippets" title="Inserting HTML5 Code Snippets" />
</p>

<p><em>Inserting HTML5 Code Snippets</em></p></li>
<li><p>Update the audio source to point to an existing audio file.</p>

<!-- mark:6    -->

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span> <span style="color:#FF0000">ID</span>=<span style="color:#0000FF">&quot;BodyContent&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span> <span style="color:#FF0000">ContentPlaceHolderID</span>=<span style="color:#0000FF">&quot;MainContent&quot;</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">br</span> <span style="color:#0000FF">/&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Image</span> <span style="color:#FF0000">ImageUrl</span>=<span style="color:#0000FF">&quot;~/images/Web11.JPG&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span> <span style="color:#0000FF">/&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>Visual Studio 2012 Rocks!!<span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">audio</span> <span style="color:#FF0000">controls</span>=<span style="color:#0000FF">&quot;controls&quot;</span><span style="color:#0000FF">&gt;</span>
<strong class="markLine">    <span style="color:#0000FF">&lt;</span><span style="color:#800000">source</span> <span style="color:#FF0000">src</span>=<span style="color:#0000FF">&quot;audio/Kalimba.mp3&quot;</span> <span style="color:#0000FF">/&gt;</span></strong>
  <span style="color:#0000FF">&lt;/</span><span style="color:#800000">audio</span><span style="color:#0000FF">&gt;</span>
<span style="color:#0000FF">&lt;/</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span><span style="color:#0000FF">&gt;</span>
</code></pre>
<blockquote>
<p><strong>Note:</strong> You will need to add the audio file to the solution.</p>
</blockquote></li>
<li><p>Press <strong>F5</strong> to run the site and play the audio.</p>

<p><img src="./images/Running-the-audio-control.png?raw=true" alt="Running the audio control" title="Running the audio control" />
</p>

<p><em>Running the audio control</em></p>
<blockquote>
<p><strong>Note:</strong> You can also try more snippets included in Visual Studio, such as video, figure, etc.</p>
</blockquote></li>
<li><p>Now, try to insert a control in some part of the page. For example, try to insert a <strong>GridView</strong> control, but instead of typing <strong>&lt;Gri,</strong> start typing <strong>&lt;GV</strong>. Notice that the IntelliSense list shows the <strong>asp:GridView</strong> control.</p>

<p>IntelliSense in the HTML Editor now provides title-casing search, as well as partial matching (retrieving all elements that contains the term).</p>

<p><img src="./images/Inserting-a-GridView-with-IntelliSense-lists.png?raw=true" alt="Inserting a GridView with IntelliSense lists" title="Inserting a GridView with IntelliSense lists" />
</p>

<p><em>Inserting a GridView with IntelliSense lists</em></p>

<p>If you type <strong>&lt;grid</strong> you will get all the items that match the term, but Visual Studio will suggest the <strong>gridview</strong> control:</p>

<p><img src="./images/Inserting-a-GridView-with-IntelliSense-lists-and-partial-matching.png?raw=true" alt="Inserting a GridView with IntelliSense lists and partial matching" title="Inserting a GridView with IntelliSense lists and partial matching" />
</p>

<p><em>Inserting a GridView with IntelliSense lists and partial matching</em></p></li>
</ol>

<p><a name="Ex2Task4"></a></p>

<h4 id="Task_4_-_HTML_Editor_Smart_Tags">Task 4 - HTML Editor Smart Tags</h4>

<p>Another improvement in the HTML Editor is the Smart Tags feature. Smart tags make it easy to perform common or repetitive development tasks on a per-control basis. This feature was already available in the HTML Designer, but not in the HTML Editor.</p>

<ol>
<li><p>Open <strong>Site.Master</strong> and locate the <strong>asp:Menu</strong> element. Place the cursor on the start tag and notice that the small glyph displayed at the bottom of the element - click it to open the smart tasks menu. Notice that you have quick access to some tasks related to the Menu control.</p>

<p><img src="./images/Smart-tasks-for-the-Menu-control.png?raw=true" alt="Smart tasks for the Menu control" title="Smart tasks for the Menu control" />
</p>

<p><em>Smart tasks for the Menu control</em></p></li>
</ol>

<p><a name="Ex2Task5"></a></p>

<h4 id="Task_5_-_Smart_Indentation">Task 5 - Smart Indentation</h4>

<p>One of the best practices in HTML is indenting the nested elements to keep the code readable. In Visual Studio 2012, you will notice that the editor automatically indents the elements while you are writing the code.</p>
<blockquote>
<p><strong>Note:</strong> In previous version of Visual Studio, smart indentation was available in the XML editor but not in the HTML editor. </p>
</blockquote>
<ol>
<li><p>Make sure that the Indenting configuration on the HTML Editor is set to Smart Indentation. To do that, select the <strong>Tools | Options</strong> menu option and then select the <strong>Text Editor | HTML | Tabs</strong> page in the left pane of the screen. Select the Smart indentation option.</p>

<p><img src="./images/HTML-Editor-settings.png?raw=true" alt="HTML Editor settings" title="HTML Editor settings" />
</p>

<p><em>HTML Editor settings</em></p></li>
<li><p>On the <strong>Default.aspx</strong> page, remove all the content under the audio element.</p></li>
<li><p>Place the cursor at the end of the opening <strong>audio</strong> element and hit <strong>ENTER</strong>.</p>

<p>Notice that the new position of cursor has an additional indentation level.</p>

<p><img src="./images/Smart-indentation-in-the-HTML-Editor.png?raw=true" alt="Smart indentation in the HTML Editor" title="Smart indentation in the HTML Editor" />
</p>

<p><em>Smart indentation in the HTML Editor</em></p></li>
<li><p>Restore the audio tag with the content you have removed, or close <strong>Default.aspx</strong> without saving the changes.</p></li>
</ol>

<p><a name="Ex2Task6"></a></p>

<h4 id="Task_6_-_Extract_to_User_Control">Task 6 - Extract to User Control</h4>

<p>The Refactoring tools included in Visual Studio, such as extracting a portion of code to a function, are great features that facilitate the improvement and the refactoring the existing code. The counterpart for ASP.NET pages would be the extraction of HTML code to a User Control. Doing it manually would involve several steps, like creating a new User Control, moving the code section to the User Control, registering a tag prefix for the User Control, and, finally, instantiating the User Control on the pages. Now, the new <em>Extract to User Control</em> tool automatically performs all those steps for you.</p>

<p>In this task, you will use the new Extract to User Control contextual operation to generate a new user control from the selected code.</p>

<ol>
<li><p>On the <strong>Default.aspx</strong> page, select the <strong>H2</strong> and <strong>audio</strong> elements.</p></li>
<li><p>Right click and select <strong>Extract to User Control</strong>.</p>

<p><img src="./images/Extract-to-User-Control-menu-option.png?raw=true" alt="Extract to User Control menu option" title="Extract to User Control menu option" />
</p>

<p><em>Extract to User Control menu option</em></p></li>
<li><p>Type a name for the new user control. For instance, <strong>Jukebox.ascx</strong>, and then click <strong>OK</strong>.</p>

<p><img src="./images/Saving-the-extracted-user-control.png?raw=true" alt="Saving the extracted user control" title="Saving the extracted user control" />
</p>

<p><em>Saving the extracted user control</em></p></li>
<li><p>Notice that the selected code was extracted to a user control and the original location of the selected code was replaced with an instance of the new user control.</p>

<p><img src="./images/Page-automatically-updated-to-use-the-new-user-control.png?raw=true" alt="Page automatically updated to use the new user control" title="Page automatically updated to use the new user control" />
</p>

<p><em>Page automatically updated to use the new user control</em></p></li>
<li><p>Press <strong>F5</strong> to run the page and verify that the control works.</p></li>
</ol>

<p><a name="Exercise3"></a></p>

<h3 id="Exercise_3_Whats_New_in_the_JavaScript_Editor">Exercise 3: What's New in the JavaScript Editor</h3>

<p>Writing or editing JavaScript code is not an easy task, especially when your application starts to grow in size and you find yourself dealing with long files and hundreds of functions. Script developers usually have to do some extra work to maintain code legibility and navigate across files. With the inclusion of JavaScript libraries like jQuery, script navigation has become a challenge itself because of the code length.</p>

<p>Visual Studio has renewed the JavaScript editor with the promise to make the code mode accessible and organized. Many Visual Studio features that already existed in C# or VB editors are now implemented in the JavaScript editor: Go To Definition, automatic indentation, documentation and validation when you are writing. With the renewed IntelliSense list you will have the JavaScript function catalog at your fingertips.</p>

<p>In this exercise, you will learn some of the new features and improvements of JavaScript editor. You will browse sample files and discover each of the new characteristics that will make your JavaScript programming more efficient within Visual Studio 2012.</p>

<p><a name="Ex3Task1"></a></p>

<h4 id="Task_1_-_JavaScript_Editor_New_Features">Task 1 - JavaScript Editor New Features</h4>

<p>This task will introduce you to some of the new JavaScript editor features, which focus on organizing your code and bringing a better user experience.</p>

<ol>
<li><p>If not already opened, start <strong>Visual Studio</strong> and open the <strong>WhatsNewASPNET.sln</strong> solution located in the <strong>Source\WhatsNewASPNET</strong> folder of this lab.</p></li>
<li><p>Press <strong>F5</strong> to run the application, then click the JavaScript link in the navigation bar. Refresh the page several times and check how the counter increments.</p>

<p><img src="./images/Page-counter.png?raw=true" alt="Page counter" title="Page counter" />
</p>

<p><em>Page counter</em></p></li>
<li><p>Close the browser and go back to Visual Studio.</p></li>
<li><p>Open the <strong>JavaScript.aspx</strong> page and locate the <strong>&lt;script&gt;</strong> block (shown below).</p>

<p>The following code uses HTML5 local storage to store a <em>pageLoadCount</em> variable that stores the number of times the page has been visited by the current user. Local Storage is a client-side key-value database introduced with the HTML5 standard. The data is saved on the local machine, inside the user's browser.</p>

<span class="codelanguage">JavaScript</span><pre><code class="JavaScript">&lt;script&gt;
  addCount(1);
  <span style="color:#0000FF">document</span>.getElementById(&#39;count&#39;).innerHTML = getCount();

  <span style="color:#0000FF">function</span> getCount() {
    <span style="color:#0000FF">var</span> storage = <span style="color:#0000FF">window</span>.localStorage;
    <span style="color:#0000FF">if</span> (!storage.pageLoadCount)
      storage.pageLoadCount = 0;

    <span style="color:#0000FF">return</span> storage.pageLoadCount;
  }

  <span style="color:#0000FF">function</span> addCount(value) {
    <span style="color:#0000FF">window</span>.localStorage.pageLoadCount = <span style="color:#0000FF">parseInt</span>(getCount(), 10) + value;
  }

  ...   
&lt;/script&gt;
</code></pre>
<blockquote>
<p><strong>Note:</strong> Ensure the DOCTYPE is set to XHTML5 before proceeding with the next steps.</p>
</blockquote></li>
<li><p>Edit the code and notice that IntelliSense for JavaScript includes HTML5 features, like local storage, and their inner methods.</p>

<p><img src="./images/HTML5-JavaScript-features-in-JavaScript.png?raw=true" alt="HTML5 JavaScript features in JavaScript" title="HTML5 JavaScript features in JavaScript" />
</p>

<p><em>HTML5 JavaScript features in JavaScript</em></p></li>
<li><p>Click any opening bracket (<strong>{</strong>) from the scripting code and notice that the brackets are highlighted.</p>

<p><img src="./images/Brackets-are-highlighted.png?raw=true" alt="Brackets are highlighted" title="Brackets are highlighted" />
</p>

<p><em>Brackets are highlighted</em></p></li>
<li><p>Uncomment the function <strong>testAutoAlign()</strong> (select the three lines and you can use <strong>CTRL</strong> + <strong>K</strong>; <strong>CTRL</strong> + <strong>U</strong>) and locate the cursor inside the function code. Press enter to append a second line. Notice that the code is now <strong>aligned</strong> and <strong>auto-indented</strong>.</p>

<p><img src="./images/JavaScript-code-is-auto-aligned.png?raw=true" alt="JavaScript code is auto aligned" title="JavaScript code is auto aligned" />
</p>

<p><em>JavaScript code is auto aligned</em></p></li>
</ol>

<p><a name="Ex3Task2"></a></p>

<h4 id="Task_2_-_Validating_JavaScript">Task 2 - Validating JavaScript</h4>

<p>In this task, you will discover the new JavaScript validation for the ECMAScript5 standard. This feature will help you to write compliant JavaScript code, while preventing scripting issues before site deployment.</p>
<blockquote>
<p><strong>Note:</strong> Visual Studio 2010 implemented ECMAStript3 compliance, while Visual Studio 2012 provides ECMAScript5 compliance.</p>
</blockquote>
<ol>
<li><p>Open <strong>ECMA5script5.js</strong> located under the <strong>Scripts\custom</strong> project folder. You will now test validation for ECMAScript5 standard.</p>

<span class="codelanguage">JavaScript</span><pre><code class="JavaScript"><span style="color:#8B0000">&quot;use strict&quot;</span>;

<span style="color:#0000FF">if</span> (<span style="color:#0000FF">true</span>) {
    <span style="color:#0000FF">function</span> StrictModeError()
    {
    }
}
</code></pre>

<p>You can check out the &quot; <strong>use strict</strong> &quot; direction in the first line of the file, which enables ECMAScript5 <strong>strict mode</strong>. This mode consists in a subset of the language that clarifies ambiguities from the past edition, and adds some new features, such as getters and setters, library support for JSON, and more complete reflection on object properties.</p></li>
<li><p>Open the <strong>Error List</strong> if not already opened (<strong>View</strong> menu | <strong>Error List</strong>). Notice the <strong>function</strong> declaration is underlined. This is because in ECMA5 standard functions cannot be nested inside language structures. In the error list below you will see the warning details.</p>

<p><img src="./images/JavaScript-validation-error-message.png?raw=true" alt="JavaScript validation error message" title="JavaScript validation error message" />
</p>

<p><em>JavaScript validation error message</em></p></li>
<li><p>Comment out the <strong>&quot;use strict&quot;</strong> direction and notice that errors disappear, but the warnings remain. </p></li>
<li><p>In the last line of the file, write any string like <strong>&quot;test&quot;</strong> (include the quotation marks to indicate it is as string). Write a period next to the string to display the IntelliSense list, and select the <strong>trim</strong> option.</p>

<p>In ECMAScript5 standard, string values and variables also have string methods defined, like trim, uppercase, search and replace.</p>

<p><img src="./images/IntelliSense-list-in-JavaScript.png?raw=true" alt="IntelliSense list in JavaScript" title="IntelliSense list in JavaScript" />
</p>

<p><em>IntelliSense list in JavaScript</em></p></li>
</ol>

<p><a name="Ex3Task3"></a> </p>

<h4 id="Task_3_-_XML_Documentation_for_JavaScript">Task 3 - XML Documentation for JavaScript</h4>

<p>In this task, you will explore Visual Studio features for XML documentation in JavaScript. You will see the JavaScript IntelliSense list now shows the XML documentation of each function. Additionally, you will discover the navigation feature in JavaScript.</p>

<ol>
<li><p>Open <strong>XMLDoc.js</strong> file located in <strong>Scripts/custom</strong> project folder. This file contains XML documentation on each of the JavaScript functions.</p>

<p><img src="./images/JavaScript-XML-documentation-integrated-to-IntelliSense.png?raw=true" alt="JavaScript XML documentation integrated to IntelliSense" title="JavaScript XML documentation integrated to IntelliSense" />
</p>

<p><em>JavaScript XML documentation integrated to IntelliSense</em></p></li>
<li><p>Below <strong>add</strong> function in <strong>XMLDoc.js</strong> file, create a new function named <strong>test</strong>.</p></li>
<li><p>In the <strong>test</strong> function, call the <strong>multiply</strong> function that receives two parameters. Notice the tooltip box is showing the <strong>multiply</strong> function documentation.</p>

<!-- mark:2    -->

<span class="codelanguage">JavaScript</span><pre><code class="JavaScript"><span style="color:#0000FF">function</span> test() {
<strong class="markLine">  multiply(</strong>
}
</code></pre>

<p><img src="./images/XML-documentation-for-JavaScript-functions.png?raw=true" alt="XML documentation for JavaScript functions" title="XML documentation for JavaScript functions" />
</p>

<p><em>XML documentation for JavaScript functions</em></p></li>
<li><p>Complete the function call statement and type a <em>dot</em> to open the IntelliSense list on the returned value. Notice that Visual Studio is detecting the <strong>return</strong> value in the documentation, treating the value as a number.</p>

<p><img src="./images/XML-documentation-for-return-types.png?raw=true" alt="XML documentation for return types" title="XML documentation for return types" />
</p>

<p><em>XML documentation for return types</em></p></li>
<li><p>Now, insert a call to add function. Notice that the JavaScript editor now supports function overloads. When you write a function name, you will be able to select any of the available overloads specified in the documentation.</p>

<p><img src="./images/XML-documentation-for-overloads.png?raw=true" alt="XML documentation for overloads" title="XML documentation for overloads" />
</p>

<p><em>XML documentation for overloads</em></p></li>
<li><p>Open <strong>GotoDefinition.js</strong> file and locate the <strong>$().html()</strong> function call. Locate the cursor on <strong>html</strong>.</p></li>
<li><p>Press <strong>F12</strong> and navigate to the definition. Notice you can now access and browse your JavaScript code without using the <strong>Find</strong> tool.</p></li>
<li><p>Locate the cursor on the jQuery instruction prior to the signature block at the bottom of the code file. Press <strong>F12</strong>. You will navigate to the jQuery library file. Notice you can also navigate across the jQuery files using <strong>F12</strong>.</p>

<p><img src="./images/Navigating-to-jQuery-definitions.png?raw=true" alt="Navigating to jQuery definitions" title="Navigating to jQuery definitions" />
</p>

<p><em>Navigating to jQuery definitions</em></p></li>
</ol>
<blockquote>
<p><strong>Note:</strong> Make sure that GotoDefinition.js has no syntax errors before saving the file. </p>
</blockquote>
<p><a name="Exercise4"></a></p>

<h3 id="Exercise_4_Bundling_and_Minification">Exercise 4: Bundling and Minification</h3>

<p>How many times do your websites include more than one JavaScript or CSS file? This is a very common scenario where bundling and minification can help to reduce the file size and make the site perform faster. The new bundling feature in ASP.NET 4.5 packs a set of JS or CSS files into a single element, and reduces its size by minifying the content ( i.e. removing not required blank spaces, removing comments, reducing identifiers ).</p>

<p>Bundling and minification in ASP.NET 4.5 is performed at runtime, so that the process can identify the user agent (for example IE, Mozilla, etc) , and thus, improve the compression by targeting the user browser (for instance, removing stuff that is Mozilla specific when the request comes from IE).</p>

<p>In this exercise, you will learn how to enable and use the different types of bundling and minification in ASP.NET 4.5.</p>

<p><a name="Ex4Task1"></a></p>

<h4 id="Task_1_-_Installing_the_Bundling_and_Minification_Package_from_NuGet">Task 1 - Installing the Bundling and Minification Package from NuGet</h4>

<ol>
<li><p>If not already opened, start <strong>Visual Studio</strong> and open the <strong>WhatsNewASPNET.sln</strong> solution located in the <strong>Source\WhatsNewASPNET</strong> folder of this lab.</p></li>
<li><p>Open the NuGet Package Manager Console. To do this, use the menu <strong>View</strong> | <strong>Other Windows</strong> | <strong>Package Manager Console</strong>.</p>

<p><img src="./images/Opening-the-package-manager-console.png?raw=true" alt="Opening the package manager file:///C:/Users/User/AppData/Local/Temp/Marker3744/images/Multiple-Stylesheets-and-JavaScript-files-in-the-application.png?raw=trueconsole" title="Opening the package manager console" />
</p>

<p><em>Opening the package manager console</em></p></li>
<li><p>In the <strong>Package Manager Console,</strong> type <strong>Install-Package Microsoft.Web.Optimization</strong> and press <strong>ENTER</strong>.</p></li>
</ol>

<p><a name="Ex4Task2"></a></p>

<h4 id="Task_2_-_Default_Bundles">Task 2 - Default Bundles</h4>

<p>The simplest way to use bundling and minification is to enable the default bundles. This method uses conventions to let you reference the bundled and minified version for the JS and CSS files in a folder.</p>

<p>In this task, you will learn how to enable and reference the bundled and minified JS and CSS files and view the resulting output.</p>

<ol>
<li><p>If not already opened, start <strong>Visual Studio</strong> and open the <strong>WhatsNewASPNET.sln</strong> solution located in the <strong>Source\WhatsNewASPNET</strong> folder of this lab.</p></li>
<li><p>In the <strong>Solution Explorer</strong>, expand the <strong>Styles</strong>, <strong>Scripts\custom</strong> and <strong>Scripts\bundle</strong> folders.</p>

<p>Notice that the application is using more than one CSS and JS file.</p>

<p><img src="./images/Multiple-Stylesheets-and-JavaScript-files-in-the-application.png?raw=true" alt="Multiple Stylesheets and JavaScript files in the application" title="Multiple Stylesheets and JavaScript files in the application" />
</p>

<p><em>Multiple Stylesheets and JavaScript files in the application</em></p></li>
<li><p>Open the <strong>Global.asax.cs</strong> file.</p>

<p>Notice that the new <strong>Microsoft.Web.Optimization</strong> namespace is commented out at the beginning of the file. Uncomment the using directive to include the bundling and minification features.</p>

<!-- mark:2    -->

<span class="codelanguage">C#</span><pre><code class="C#"><span style="color:#0000FF">using</span> System;
<strong class="markLine"><span style="color:#0000FF">using</span> Microsoft.Web.Optimization;</strong>
</code></pre></li>
<li><p>Locate the <strong>Application_Start</strong> method.</p>

<p>In this method, uncomment the EnableDefaultBundles call as shown in the snippet below. This enables us to reference a bundled collection of CSS files in a folder by using the path to that folder, plus the &quot;CSS&quot; or the &quot;JS&quot; suffix.</p>

<!-- mark:5    -->

<span class="codelanguage">C#</span><pre><code class="C#"><span style="color:#0000FF">void</span> Application_Start(<span style="color:#0000FF">object</span> sender, EventArgs e)
{
  <span style="color:#008000">// Default behavior</span>
  <span style="color:#008000">// Bundles all .js files in folders such as &quot;scripts&quot; if URL pointed to it: http://localhost:54716/scripts/custom/js </span>
<strong class="markLine">  BundleTable.Bundles.EnableDefaultBundles();</strong>

  ...
}
</code></pre></li>
<li><p>Open the <strong>Optimization.aspx</strong> file and locate the content control for <strong>HeadContent</strong>.</p>

<p>Notice the CSS files and the JS files have a single referenced tag.</p>

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span> <span style="color:#FF0000">ID</span>=<span style="color:#0000FF">&quot;Content1&quot;</span> <span style="color:#FF0000">ContentPlaceHolderID</span>=<span style="color:#0000FF">&quot;HeadContent&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">link</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Styles/CSS&quot;</span> <span style="color:#FF0000">rel</span>=<span style="color:#0000FF">&quot;stylesheet&quot;</span> <span style="color:#FF0000">type</span>=<span style="color:#0000FF">&quot;text/css&quot;</span> <span style="color:#0000FF">/&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">script</span> <span style="color:#FF0000">src</span>=<span style="color:#0000FF">&quot;Scripts/custom/JS&quot;</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">script</span><span style="color:#0000FF">&gt;</span>
<span style="color:#0000FF">&lt;/</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span><span style="color:#0000FF">&gt;</span>
</code></pre>
<blockquote>
<p><strong>Note:</strong> This code is for demo purposes. Ideally, you will reference the bundles in the Site.Master file. In this sample code, you will find that some of the bundled files are also being referenced by the Site.Master file, making this last reference redundant.</p>
</blockquote></li>
<li><p>Notice that the links are using the bundling conventions in the <strong>href</strong> attribute to get all the CSS or JS files from the Styles and Scripts\custom folder respectively.</p>

<p>You can use the path <strong>Scripts/custom/JS</strong> as shown below to bundle and minify all the JS files inside a <strong>Scripts/custom</strong> folder. This is the default behavior with the default bundles.</p>

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span> <span style="color:#FF0000">ID</span>=<span style="color:#0000FF">&quot;Content2&quot;</span> <span style="color:#FF0000">ContentPlaceHolderID</span>=<span style="color:#0000FF">&quot;MainContent&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">ul</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Styles/CSS&quot;</span><span style="color:#0000FF">&gt;</span>CSS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Scripts/custom/JS&quot;</span><span style="color:#0000FF">&gt;</span>JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
</code></pre></li>
<li><p>Open the <strong>Styles\Site.css</strong> file.</p>

<p>Notice that the original CSS file contains indented code, blank spaces and comments that enlarge the file. (Also the JavaScript file contains blank spaces and comments).</p>

<p><img src="./images/One-of-the-original-CSS-files-in-the-Scripts-folder.png?raw=true" alt="One of the original CSS files in the Scripts folder" title="One of the original CSS files in the Scripts folder" />
</p>

<p><em>One of the original CSS files in the Scripts folder</em></p></li>
<li><p>Press <strong>F5</strong> to run the application and navigate to the <strong>Optimization</strong> page.</p></li>
<li><p>Click on the <strong>CSS Bundle</strong> link to download and open the file.</p>

<p>Check out the minified bundled file. You will notice that all the blank spaces, comments and indentation characters have been removed, generating a smaller file.</p>

<p><img src="./images/Bundled-CSS-files.png?raw=true" alt="Bundled CSS files" title="Bundled CSS files" />
</p>

<p><em>Bundled CSS files</em></p></li>
<li><p>Now click the <strong>JS Bundle</strong> link to open the JavaScript bundled file. You can safely disregard the explorer warning. Notice the JavaScript files under the <strong>custom</strong> folder are also bundled and minified.</p>

<p><img src="./images/Bundled-JavaScript-files.png?raw=true" alt="Bundled JavaScript files" title="Bundled JavaScript files" />
</p>

<p><em>Bundled JavaScript files</em></p>

<p>Enabling compression for CSS or JS files was much more complicated in previous ASP.NET version. Now, as you have seen, you just need to add one line in the <em>Global.asax</em> file to enable bundling, and then reference the bundled files from your site.</p></li>
</ol>

<p><a name="Ex4Task3"></a></p>

<h4 id="Task_3_-_Static_Bundles">Task 3 - Static Bundles</h4>

<p>The static bundle approach allows you to customize the set of files to bundle, the reference and the minification method that will be used.</p>

<p>In this task, you will configure a static bundle to define a specific set of files to bundle and minify.</p>

<ol>
<li><p>Close the browser. </p></li>
<li><p>Open the <strong>Global.asax.cs</strong> file and locate the <strong>Application_Start</strong> method.</p></li>
<li><p>Uncomment the static bundle code as shown in the code below.</p>

<p>You are defining a static bundle that will be referenced with the &quot;<strong>~/StaticBundle</strong>&quot; virtual path and use <strong>JsMinify</strong> for minification of all the specified files with the <strong>AddFile</strong> method. Finally, you are adding the static bundle to the <strong>BundleTable</strong> and enabling it.</p>

<p>Notice that the files are not located in the same place; this is another advantage over the default bundling.</p>

<!-- mark:9-15    -->

<span class="codelanguage">C#</span><pre><code class="C#"><span style="color:#0000FF">void</span> Application_Start(<span style="color:#0000FF">object</span> sender, EventArgs e)
{
    <span style="color:#008000">// Default behavior</span>
    <span style="color:#008000">// Bundles all .js files in folders such as &quot;scripts&quot; if URL pointed to it: http://localhost:54716/scripts/custom/js</span>
    BundleTable.Bundles.EnableDefaultBundles();

    <span style="color:#008000">// Static bundle.</span>
    <span style="color:#008000">// Access on url http://localhosthost:54716/StaticBundle</span>
<strong class="markLine">    Bundle b = <span style="color:#0000FF">new</span> Bundle(<span style="color:#8B0000">&quot;~/StaticBundle&quot;</span>, <span style="color:#0000FF">typeof</span>(JsMinify));</strong>
<strong class="markLine">    b.AddFile(<span style="color:#8B0000">&quot;~/scripts/custom/ECMAScript5.js&quot;</span>);</strong>
<strong class="markLine">    b.AddFile(<span style="color:#8B0000">&quot;~/scripts/custom/GoToDefinition.js&quot;</span>);</strong>
<strong class="markLine">    b.AddFile(<span style="color:#8B0000">&quot;~/scripts/bundle/JScript1.js&quot;</span>);</strong>
<strong class="markLine">    b.AddFile(<span style="color:#8B0000">&quot;~/scripts/bundle/JScript2.js&quot;</span>);</strong>
<strong class="markLine"></strong>
<strong class="markLine">    BundleTable.Bundles.Add(b);</strong>

    <span style="color:#008000">// Dynamic bundle</span>
    <span style="color:#008000">// Bundles all .coffee files in folders such as &quot;script&quot; when &quot;coffee&quot; is appended to it: http://localhost:54716/scripts/coffee</span>
    <span style="color:#008000">// DynamicFolderBundle fb = new DynamicFolderBundle(&quot;coffee&quot;, typeof(CoffeeMinify), &quot;*.coffee&quot;);</span>
    <span style="color:#008000">// BundleTable.Bundles.Add(fb);</span>
}
</code></pre></li>
<li><p>Open the <strong>Optimization.aspx</strong> file.</p>

<p>Notice that the link to <strong>Static JS Bundle</strong> is using the path you have declared when you configured the static bundle in the Global.asax.cs file: <strong>/StaticBundle</strong>.</p>

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span> <span style="color:#FF0000">ID</span>=<span style="color:#0000FF">&quot;Content2&quot;</span> <span style="color:#FF0000">ContentPlaceHolderID</span>=<span style="color:#0000FF">&quot;MainContent&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">ul</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Styles/CSS&quot;</span><span style="color:#0000FF">&gt;</span>CSS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Scripts/custom/JS&quot;</span><span style="color:#0000FF">&gt;</span>JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;StaticBundle&quot;</span><span style="color:#0000FF">&gt;</span>Static JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Scripts/bundle/Coffee&quot;</span><span style="color:#0000FF">&gt;</span>Dynamic JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;/</span><span style="color:#800000">ul</span><span style="color:#0000FF">&gt;</span>
<span style="color:#0000FF">&lt;/</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span><span style="color:#0000FF">&gt;</span>
</code></pre></li>
<li><p>Press <strong>F5</strong> to run the application, and then navigate to the <strong>Optimization</strong> page.</p></li>
<li><p>Click on the <strong>Static JS Bundle</strong> link to open the file.</p>

<p>Notice that the minified bundled JavaScript file is the output for all the JavaScript files configured in the static bundle file under the path &quot;/StaticBundle&quot;.</p>

<p><img src="./images/Static-JavaScript-files-bundle.png?raw=true" alt="Static JavaScript files bundle" title="Static JavaScript files bundle" />
</p>

<p><em>Static JavaScript files bundle</em></p></li>
<li><p>Close the browser and return to Visual Studio.</p></li>
</ol>

<p><a name="Ex4Task4"></a></p>

<h4 id="Task_4_-_Dynamic_Folder_Bundles">Task 4 - Dynamic Folder Bundles</h4>

<p>In this task, you will learn how to configure dynamic folder bundles. The power of dynamic bundling is that you can include static JavaScript, as well as other files in languages that compiles into JavaScript, and thus, require some processing before the bundling is executed.</p>

<p>In this example, you will learn how to use the <strong>DynamicFolderBundle</strong> class to create a dynamic bundle for files written in CofeeScript. CofeeScript is a programming language that compiles into JavaScript and provides a simpler syntax for writing JavaScript code, enhancing JavaScript's brevity and readability.</p>

<ol>
<li><p>Open the <strong>Global.asax.cs</strong> file and locate the <strong>Application_Start</strong> method.</p></li>
<li><p>Uncomment the dynamic bundle code as shown in the code below.</p>

<p>You are defining a dynamic folder bundle that will use the <strong>CoffeeMinify</strong> custom minification processor that will only apply to the files with the &quot;<strong>.coffee</strong>&quot; extension (CoffeeScript files). Notice that you can use a search pattern to select the files to bundle within a folder, like '*.coffee'.</p>

<!-- mark:14-15    -->

<span class="codelanguage">C#</span><pre><code class="C#"><span style="color:#0000FF">void</span> Application_Start(<span style="color:#0000FF">object</span> sender, EventArgs e)
{
    <span style="color:#008000">// Default behavior</span>
    <span style="color:#008000">// Bundles all .js files in folders such as &quot;scripts&quot; if URL pointed to it: http://localhost:54716/scripts/custom/js</span>
    BundleTable.Bundles.EnableDefaultBundles();

    <span style="color:#008000">// Static bundle.</span>
    <span style="color:#008000">// Access on url http://localhosthost:54716/StaticBundle</span>
    ...

    <span style="color:#008000">// Dynamic bundle</span>
    <span style="color:#008000">// Bundles all .coffee files in folders such as &quot;script&quot; when &quot;coffee&quot; is appended to it:</span>
         <span style="color:#008000">// http://localhost:54716/scripts/coffee</span>
<strong class="markLine">    DynamicFolderBundle fb = <span style="color:#0000FF">new</span> DynamicFolderBundle(<span style="color:#8B0000">&quot;coffee&quot;</span>, <span style="color:#0000FF">typeof</span>(CoffeeMinify), <span style="color:#8B0000">&quot;*.coffee&quot;</span>);</strong>
<strong class="markLine">    BundleTable.Bundles.Add(fb);</strong>
}
</code></pre></li>
<li><p>Open the NuGet Package Manager Console. To do this, use the menu <strong>View</strong> | <strong>Other Windows</strong> | <strong>Package Manager Console</strong>.</p></li>
<li><p>In the <strong>Package Manager Console,</strong> type <strong>Install-Package CoffeeSharp</strong> and press <strong>ENTER</strong>.</p></li>
<li><p>Click the <strong>Show All Files</strong> button in the <strong>Solution Explorer</strong> window</p>

<p><img src="./images/Showing-all-files-.png?raw=true" alt="Showing all files " title="Showing all files " />
</p>

<p><em>Showing all files</em></p></li>
<li><p>Right click the <strong>CoffeeMinify.cs</strong> file in the <strong>Solution Explorer</strong> and select <strong>Include in Project</strong></p>

<p><img src="./images/Include-the-CoffeeMinify.cs-file-in-the-project.png?raw=true" alt="Include the CoffeeMinify.cs file in the project" title="Include the CoffeeMinify.cs file in the project" />
</p>

<p><em>Include the CoffeeMinify.cs file in the project</em></p></li>
<li><p>Open the <strong>CoffeeMinify.cs</strong> file.</p>

<p>This class inherits from JsMinify to minify the JavaScript output resulting from the CoffeeScript code compilation. It calls the CoffeeScript compiler to generate the JavaScript code first, and then it sends it to the JsMinify.Process method to minify the resulting code.</p>

<span class="codelanguage">C#</span><pre><code class="C#"><span style="color:#0000FF">public</span> <span style="color:#0000FF">class</span> CoffeeMinify : JsMinify
{
    <span style="color:#0000FF">public</span> <span style="color:#0000FF">override</span> <span style="color:#0000FF">void</span> Process(BundleResponse bundle)
    {
        <span style="color:#0000FF">var</span> compiler = <span style="color:#0000FF">new</span> CoffeeScriptEngine();
        bundle.Content = compiler.Compile(bundle.Content);

        <span style="color:#0000FF">base</span>.Process(bundle);
    }
}
</code></pre></li>
<li><p>Open the <strong>Script1.coffee</strong> and <strong>Script2.coffee</strong> files from the <strong>Scripts/bundle</strong> folder.</p>

<p>These files will include the CoffeScript code to be compiled while performing the bundling with the CoffeeMinify class.</p>

<p>For simplicity purposes, the CoffeeScript files provided are only including CoffeeScript sample code . The comments are excluded by the JsMinify process.</p>

<p><img src="./images/CoffeeScript-files.png?raw=true" alt="CoffeeScript files" title="CoffeeScript files" />
</p>

<p><em>CoffeeScript files</em></p>
<blockquote>
<p><strong>Note:</strong> <a href="http://jashkenas.github.com/coffee-script/">CofeeScript</a> provides a simpler syntax for writing JavaScript code, enhancing JavaScript's brevity and readability, as well as adding other features like array comprehension and pattern matching.</p>
</blockquote></li>
<li><p>Open the <strong>Optimization.aspx</strong> file and locate the bundle links.</p>

<p>Notice that the link to <strong>Dynamic JS Bundle</strong> is referencing the <strong>Scripts/bundle</strong> folder by using the <strong>/Coffee</strong> suffix you configured for the dynamic folder bundle.</p>

<span class="codelanguage">HTML</span><pre><code class="HTML"><span style="color:#0000FF">&lt;</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span> <span style="color:#FF0000">ID</span>=<span style="color:#0000FF">&quot;Content2&quot;</span> <span style="color:#FF0000">ContentPlaceHolderID</span>=<span style="color:#0000FF">&quot;MainContent&quot;</span> <span style="color:#FF0000">runat</span>=<span style="color:#0000FF">&quot;server&quot;</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;</span><span style="color:#800000">ul</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Styles/CSS&quot;</span><span style="color:#0000FF">&gt;</span>CSS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Scripts/custom/JS&quot;</span><span style="color:#0000FF">&gt;</span>JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;StaticBundle&quot;</span><span style="color:#0000FF">&gt;</span>Static JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
      <span style="color:#0000FF">&lt;</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;</span><span style="color:#800000">a</span> <span style="color:#FF0000">href</span>=<span style="color:#0000FF">&quot;Scripts/bundle/Coffee&quot;</span><span style="color:#0000FF">&gt;</span>Dynamic JS Bundle<span style="color:#0000FF">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000FF">&gt;</span><span style="color:#0000FF">&lt;/</span><span style="color:#800000">h2</span><span style="color:#0000FF">&gt;</span>
    <span style="color:#0000FF">&lt;/</span><span style="color:#800000">li</span><span style="color:#0000FF">&gt;</span>
  <span style="color:#0000FF">&lt;/</span><span style="color:#800000">ul</span><span style="color:#0000FF">&gt;</span>
<span style="color:#0000FF">&lt;/</span><span style="color:#C71585">asp</span>:<span style="color:#800000">Content</span><span style="color:#0000FF">&gt;</span>
</code></pre></li>
<li><p>Press <strong>F5</strong> to run the application, and then navigate to the <strong>Optimization</strong> page.</p></li>
<li><p>Click on the <strong>Dynamic JS Bundle</strong> link to open the generated file.</p>

<p>Notice that the content that was included in this bundle only contains <strong>.coffee</strong> files. You can also see that the CoffeeScript code was compiled to JavaScript and the commented-out lines has been removed.</p>

<p><img src="./images/Dynamic-JS-files-bundle.png?raw=true" alt="Dynamic JS files bundle" title="Dynamic JS files bundle" />
</p>

<p><em>Dynamic JS files bundle</em></p></li>
</ol>
<blockquote>
<p><strong>Note:</strong> Additionally, you can deploy this application to Windows Azure Web Sites following <a href="#AppendixB">Appendix B: Publishing an ASP.NET MVC 4 Application using Web Deploy</a>.</p>
</blockquote>
<p><a name="Summary"></a></p>

<h2 id="Summary">Summary</h2>

<p>This lab helps you to understand what New in ASP.NET and Web Development in Visual Studio 2012 is and how to take advantage of the variety of enhancements in Visual Studio 2012. </p>

<p>By completing this Hands-On Lab, you have learnt how to use the new features and improvements in Visual Studio 2012 Editors for CSS, JavaScript and HTML. In addition, you have learnt how Visual Studio 2012 implements built-in bundling and minification.</p>

<p><a name="AppendixA"></a></p>

<h2 id="Appendix_A_Installing_Visual_Studio_Express_2012_for_Web">Appendix A: Installing Visual Studio Express 2012 for Web</h2>

<p>You can install <strong>Microsoft Visual Studio Express 2012 for Web</strong> or another &quot;Express&quot; version using the <strong><a href="http://www.microsoft.com/web/downloads/platform.aspx">Microsoft Web Platform Installer</a></strong>. The following instructions guide you through the steps required to install <em>Visual studio Express 2012 for Web</em> using <em>Microsoft Web Platform Installer</em>.</p>

<ol>
<li><p>Go to <a href="http://go.microsoft.com/?linkid=9810169"><a href="http://go.microsoft.com/?linkid=9810169">http://go.microsoft.com/?linkid=9810169</a></a>. Alternatively, if you already have installed Web Platform Installer, you can open it and search for the product &quot;<em>Visual Studio Express 2012 for Web with Windows Azure SDK</em>&quot;.</p></li>
<li><p>Click on <strong>Install Now</strong>. If you do not have <strong>Web Platform Installer</strong> you will be redirected to download and install it first.</p></li>
<li><p>Once <strong>Web Platform Installer</strong> is open, click <strong>Install</strong> to start the setup.</p>

<p><img src="images/install-visual-studio-express.png?raw=true" alt="Install Visual Studio Express" title="Install Visual Studio Express" />
</p>

<p><em>Install Visual Studio Express</em></p></li>
<li><p>Read all the products' licenses and terms and click <strong>I Accept</strong> to continue.</p>

<p><img src="images/accepting-the-license-terms.png?raw=true" alt="Accepting the license terms" />
</p>

<p><em>Accepting the license terms</em></p></li>
<li><p>Wait until the downloading and installation process completes.</p>

<p><img src="images/installation-progress.png?raw=true" alt="Installation progress" />
</p>

<p><em>Installation progress</em></p></li>
<li><p>When the installation completes, click <strong>Finish</strong>.</p>

<p><img src="images/installation-completed.png?raw=true" alt="Installation completed" />
</p>

<p><em>Installation completed</em></p></li>
<li><p>Click <strong>Exit</strong> to close Web Platform Installer.</p></li>
<li><p>To open Visual Studio Express for Web, go to the <strong>Start</strong> screen and start writing &quot;<strong>VS Express</strong>&quot;, then click on the <strong>VS Express for Web</strong> tile.</p>

<p><img src="images/vs-express-for-web-tile.png?raw=true" alt="VS Express for Web tile" />
</p>

<p><em>VS Express for Web tile</em></p></li>
</ol>

<hr />

<p><a name="AppendixB"></a></p>

<h2 id="Appendix_B_Publishing_an_ASPNET_MVC_4_Application_using_Web_Deploy">Appendix B: Publishing an ASP.NET MVC 4 Application using Web Deploy</h2>

<p>This appendix will show you how to create a new web site from the Windows Azure Management Portal and publish the application you obtained by following the lab, taking advantage of the Web Deploy publishing feature provided by Windows Azure.</p>

<p><a name="Ex1Task1"></a></p>

<h4 id="Task_1_-_Creating_a_New_Web_Site_from_the_Windows_Azure_Portal">Task 1 - Creating a New Web Site from the Windows Azure Portal</h4>

<ol>
<li><p>Go to the <a href="https://manage.windowsazure.com/">Windows Azure Management Portal</a> and sign in using the Microsoft credentials associated with your subscription.</p>
<blockquote>
<p><strong>Note:</strong> With Windows Azure you can host 10 ASP.NET Web Sites for free and then scale as your traffic grows. You can sign up <a href="http://aka.ms/aspnet-hol-azure">here</a>.</p>
</blockquote>
<p><img src="images/login.png?raw=true" alt="Log on to Windows Azure portal" title="Log on to Windows Azure portal" />
</p>

<p><em>Log on to Windows Azure Management Portal</em></p></li>
<li><p>Click <strong>New</strong> on the command bar.</p>

<p><img src="images/new-website.png?raw=true" alt="Creating a new Web Site" title="Creating a new Web Site" />
</p>

<p><em>Creating a new Web Site</em></p></li>
<li><p>Click <strong>Compute</strong> | <strong>Web Site</strong>. Then select <strong>Quick Create</strong> option. Provide an available URL for the new web site and click <strong>Create Web Site</strong>.</p>
<blockquote>
<p><strong>Note:</strong> A Windows Azure Web Site is the host for a web application running in the cloud that you can control and manage. The Quick Create option allows you to deploy a completed web application to the Windows Azure Web Site from outside the portal. It does not include steps for setting up a database.</p>
</blockquote>
<p><img src="images/quick-create.png?raw=true" alt="Creating a new Web Site using Quick Create" title="Creating a new Web Site using Quick Create" />
</p>

<p><em>Creating a new Web Site using Quick Create</em></p></li>
<li><p>Wait until the new <strong>Web Site</strong> is created.</p></li>
<li><p>Once the Web Site is created click the link under the <strong>URL</strong> column. Check that the new Web Site is working.</p>

<p><img src="images/navigate-website.png?raw=true" alt="Browsing to the new web site" title="Browsing to the new web site" />
</p>

<p><em>Browsing to the new web site</em></p>

<p><img src="images/website-working.png?raw=true" alt="Web site running" title="Web site running" />
</p>

<p><em>Web site running</em></p></li>
<li><p>Go back to the portal and click the name of the web site under the <strong>Name</strong> column to display the management pages.</p>

<p><img src="images/go-to-the-dashboard.png?raw=true" alt="Opening the web site management pages" title="Opening the web site management pages" />
</p>

<p><em>Opening the Web Site management pages</em></p></li>
<li><p>In the <strong>Dashboard</strong> page, under the <strong>quick glance</strong> section, click the <strong>Download publish profile</strong> link.</p>
<blockquote>
<p><strong>Note:</strong> The <em>publish profile</em> contains all of the information required to publish a web application to a Windows Azure website for each enabled publication method. The publish profile contains the URLs, user credentials and database strings required to connect to and authenticate against each of the endpoints for which a publication method is enabled. <strong>Microsoft WebMatrix 2</strong>, <strong>Microsoft Visual Studio Express for Web</strong> and <strong>Microsoft Visual Studio 2012</strong> support reading publish profiles to automate configuration of these programs for publishing web applications to Windows Azure websites. </p>
</blockquote>
<p><img src="images/download-publish-profile.png?raw=true" alt="Downloading the web site publish profile" title="Downloading the web site publish profile" />
</p>

<p><em>Downloading the Web Site publish profile</em></p></li>
<li><p>Download the publish profile file to a known location. Further in this exercise you will see how to use this file to publish a web application to a Windows Azure Web Sites from Visual Studio.</p>

<p><img src="images/save-link.png?raw=true" alt="Saving the publish profile file" title="Saving the publish profile" />
</p>

<p><em>Saving the publish profile file</em></p></li>
</ol>

<p><a name="Ex1Task2"></a></p>

<h4 id="Task_2_-_Configuring_the_Database_Server">Task 2 - Configuring the Database Server</h4>

<p>If your application makes use of SQL Server databases you will need to create a SQL Database server. If you want to deploy a simple application that does not use SQL Server you might skip this task.</p>

<ol>
<li><p>You will need a SQL Database server for storing the application database. You can view the SQL Database servers from your subscription in the Windows Azure Management portal at <strong>Sql Databases</strong> | <strong>Servers</strong> | <strong>Server's Dashboard</strong>. If you do not have a server created, you can create one using the <strong>Add</strong> button on the command bar. Take note of the <strong>server name and URL, administrator login name and password</strong>, as you will use them in the next tasks. Do not create the database yet, as it will be created in a later stage.</p>

<p><img src="images/sql-database-server-dashboard.png?raw=true" alt="SQL Database Server Dashboard" title="SQL Database Server Dashboard" />
</p>

<p><em>SQL Database Server Dashboard</em></p></li>
<li><p>In the next task you will test the database connection from Visual Studio, for that reason you need to include your local IP address in the server's list of <strong>Allowed IP Addresses</strong>. To do that, click <strong>Configure</strong>, select the IP address from <strong>Current Client IP Address</strong> and paste it on the <strong>Start IP Address</strong> and <strong>End IP Address</strong> text boxes. Enter a name for the rule and click the <img src="images/add-client-ip-address-ok-button.png?raw=true" alt="add-client-ip-address-ok-button" />
 button.</p>

<p><img src="images/add-client-ip-address.png?raw=true" alt="Adding Client IP Address" />
</p>

<p><em>Adding Client IP Address</em></p></li>
<li><p>Once the <strong>Client IP Address</strong> is added to the allowed IP addresses list, click on <strong>Save</strong> to confirm the changes.</p>

<p><img src="images/add-client-ip-address-confirm.png?raw=true" alt="Confirm Changes" />
</p>

<p><em>Confirm Changes</em></p></li>
</ol>

<p><a name="Ex1Task3"></a></p>

<h4 id="Task_3_-_Publishing_an_ASPNET_MVC_4_Application_using_Web_Deploy">Task 3 - Publishing an ASP.NET MVC 4 Application using Web Deploy</h4>

<ol>
<li><p>Go back to the ASP.NET MVC 4 solution. In the <strong>Solution Explorer</strong>,  right-click the web site project and select <strong>Publish</strong>.</p>

<p><img src="images/publishing-the-application.png?raw=true" alt="Publishing the Application" title="Publishing the Application" />
</p>

<p><em>Publishing the web site</em></p></li>
<li><p>Import the publish profile you saved in the first task.</p>

<p><img src="images/importing-the-publish-profile.png?raw=true" alt="Importing the publish profile" title="Importing the publish profile" />
</p>

<p><em>Importing publish profile</em></p></li>
<li><p>Click <strong>Validate Connection</strong>. Once Validation is complete click <strong>Next</strong>.</p>
<blockquote>
<p><strong>Note:</strong> Validation is complete once you see a green checkmark appear next to the Validate Connection button.</p>
</blockquote>
<p><img src="images/validating-connection.png?raw=true" alt="Validating connection" title="Validating connection" />
</p>

<p><em>Validating connection</em></p></li>
<li><p>In the <strong>Settings</strong> page, under the <strong>Databases</strong> section, click the button next to your database connection's textbox (i.e. <strong>DefaultConnection</strong>).</p>

<p><img src="images/web-deploy-configuration.png?raw=true" alt="Web deploy configuration" title="Web deploy configuration" />
</p>

<p><em>Web deploy configuration</em></p></li>
<li><p>Configure the database connection as follows:</p>

<ul>
<li>In the <strong>Server name</strong> type your SQL Database server URL using the <em>tcp:</em> prefix.</li>
<li>In <strong>User name</strong> type your server administrator login name.</li>
<li>In <strong>Password</strong> type your server administrator login password.</li>
<li>Type a new database name, for example: <em>MVC4SampleDB</em>.</li>
</ul>

<p><img src="images/configuring-destination-connection-string.png?raw=true" alt="Configuring destination connection string" title="Configuring destination connection string" />
</p>

<p><em>Configuring destination connection string</em></p></li>
<li><p>Then click <strong>OK</strong>. When prompted to create the database click <strong>Yes</strong>.</p>

<p><img src="images/creating-the-database.png?raw=true" alt="Creating the database" title="Creating the database string" />
</p>

<p><em>Creating the database</em></p></li>
<li><p>The connection string you will use to connect to SQL Database in Windows Azure is shown within Default Connection textbox. Then click <strong>Next</strong>.</p>

<p><img src="images/sql-database-connection-string.png?raw=true" alt="Connection string pointing to SQL Database" title="Connection string pointing to SQL Database" />
</p>

<p><em>Connection string pointing to SQL Database</em></p></li>
<li><p>In the <strong>Preview</strong> page, click <strong>Publish</strong>.</p>

<p><img src="images/publishing-the-web-application.png?raw=true" alt="Publishing the web application" title="Publishing the web application" />
</p>

<p><em>Publishing the web application</em></p></li>
<li><p>Once the publishing process finishes, your default browser will open the published web site.</p>

<p><img src="images/application-published-to-windows-azure.png?raw=true" alt="Application published to Windows Azure" title="Application published to Windows Azure" />
</p>

<p><em>Application published to Windows Azure</em></p></li>
</ol>

</span>
		</div>
	<br />
	<p><a href="#top">top of page</a></p>
</div> 
<div class="clearBoth"></div>

        </div>
    </div>
    <div class="footer">
        <div class="microsoftLink">
            <a href="http://www.microsoft.com/" title="Microsoft">
                <img alt="Microsoft" src="images/ms-logo-footer.png" /></a>
        </div>
        <div class="leftSideLinks">
			<a href="mailto:webcamps@microsoft.com?subject=Web Camps Training Kit">Contact Us</a>&nbsp;&nbsp;|&nbsp;&nbsp;
            <a href=".\" target="_blank">Browse Content</a>&nbsp;&nbsp;|&nbsp;&nbsp;
			 &copy;&nbsp;2012 Microsoft
		 </div>
    </div>
</body>
</html>

